'use strict';

function svgrTemplate({template}, _opts, {imports, interfaces, componentName, jsx}) {
  const iconName = {
    ...componentName,
    name: `${componentName.name.replace(/icon$/, "")}Icon`
  };
  const defaultExport = {
    type: "ExportDefaultDeclaration",
    declaration: iconName
  };
  const typeScriptTemplate = template.smart({plugins: ["typescript"]});
  return typeScriptTemplate.ast`
${imports}
import SvgIcon from '@material-ui/core/SvgIcon';

${interfaces}

const ${iconName} = props => React.createElement(SvgIcon, props, ${jsx.children});

${defaultExport}`;
}

exports.svgrTemplate = svgrTemplate;
